---
import Page from '../layouts/page.astro'
import * as Icons from 'lucide-solid'
---

<Page>
  <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col gap-3">
    <!-- <svg class="h-14" viewBox="0 0 1594 361" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M582 73.5V355H506V73.5H411.5V5.99999H676.5V73.5H582ZM728.492 355V5.99999H804.492V287.5H937.492V355H728.492ZM1216.93 355L1191.93 272H1075.43L1050.43 355H973.43L1088.43 5.99999H1182.43L1295.93 355H1216.93ZM1134.43 75H1131.93L1093.43 207.5H1173.43L1134.43 75ZM1457.21 361C1426.55 361 1400.55 355.833 1379.21 345.5C1357.88 334.833 1339.71 321.167 1324.71 304.5L1374.71 254C1398.38 280.667 1427.55 294 1462.21 294C1480.88 294 1494.71 290.167 1503.71 282.5C1512.71 274.833 1517.21 264.667 1517.21 252C1517.21 242.333 1514.55 234.333 1509.21 228C1503.88 221.333 1493.05 216.833 1476.71 214.5L1442.21 210C1405.21 205.333 1378.05 194.167 1360.71 176.5C1343.71 158.833 1335.21 135.333 1335.21 106C1335.21 90.3333 1338.21 76 1344.21 63C1350.21 50 1358.71 38.8333 1369.71 29.5C1381.05 20.1667 1394.71 13 1410.71 8C1427.05 2.66665 1445.55 -1.90735e-05 1466.21 -1.90735e-05C1492.55 -1.90735e-05 1515.71 4.16664 1535.71 12.5C1555.71 20.8333 1572.88 33 1587.21 49L1536.71 100C1528.38 90.3333 1518.21 82.5 1506.21 76.5C1494.55 70.1666 1479.71 67 1461.71 67C1444.71 67 1432.05 70 1423.71 76C1415.38 82 1411.21 90.3333 1411.21 101C1411.21 113 1414.38 121.667 1420.71 127C1427.38 132.333 1438.05 136.167 1452.71 138.5L1487.21 144C1523.21 149.667 1549.88 160.833 1567.21 177.5C1584.55 193.833 1593.21 217.167 1593.21 247.5C1593.21 264.167 1590.21 279.5 1584.21 293.5C1578.21 307.5 1569.38 319.5 1557.71 329.5C1546.38 339.5 1532.21 347.333 1515.21 353C1498.21 358.333 1478.88 361 1457.21 361Z"
        fill="currentColor"></path>
      <path d="M199 7C208.717 7 217.734 11.9714 222.942 20.2054L391.315 288.507C395.668 295.421 398 303.421 398 311.578C398 335.58 378.566 355 354.546 355H43.4535C19.4336 355 0 335.58 0 311.578C0 303.421 2.33203 295.421 6.68516 288.507L175.058 20.2054C180.188 11.9714 189.283 7 199 7ZM249.527 156.143L199 75.6679L137.512 173.621L151.737 192.574C156.712 199.177 166.663 199.177 171.638 192.574L191.537 166.086C196.202 159.794 203.586 156.143 211.438 156.143H249.527Z" fill="currentColor"></path>
    </svg> -->

    <div class="flex items-center justify-center gap-4 font-bold text-[5rem] leading-[1]">
      <svg class="h-16" viewBox="0 0 353 327" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M176.5 0C185.118 0 193.116 4.67143 197.735 12.4085L347.071 264.52C350.932 271.016 353 278.534 353 286.198C353 308.752 335.764 327 314.46 327H38.5404C17.2363 327 0 308.752 0 286.198C0 278.534 2.06836 271.016 5.9293 264.52L155.265 12.4085C159.815 4.67143 167.882 0 176.5 0ZM221.314 140.143L176.5 64.5241L121.964 156.566L134.581 174.376C138.994 180.58 147.819 180.58 152.231 174.376L169.881 149.486C174.018 143.573 180.568 140.143 187.531 140.143H221.314Z" fill="currentColor"></path>
      </svg>
      Atlas
    </div>

    <div class="join" transition:name="control">
      <input transition:persist="input" type="text" class="input bg-base-200 focus:border-transparent focus:outline-none w-80 sm:w-96 join-item" />
      <button class="btn btn-square join-item" id="enter">
        <Icons.Search class="h-5 w-5" />
      </button>
    </div>
  </div>

  <div class="absolute w-screen bottom-0 flex items-center justify-between py-2.5 px-6 text-sm">
    <div class="flex items-center gap-1">
      <a class="link link-hover underline-offset-2 hidden sm:inline" href="/legal/terms">Terms of Service</a>
      <a class="link link-hover underline-offset-2 sm:hidden" href="/legal/terms">Terms</a>
      <Icons.Dot />
      <a class="link link-hover underline-offset-2 hidden sm:inline" href="/legal/privacy">Privacy Policy</a>
      <a class="link link-hover underline-offset-2 sm:hidden" href="/legal/privacy">Privacy</a>
    </div>

    <div class="flex gap-2">
      <a href="https://discord.gg/unblock" target="_blank">
        <button class="btn btn-ghost btn-square">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 640 512">
            <path
              fill="currentColor"
              d="M524.5 69.8a1.5 1.5 0 0 0 -.8-.7A485.1 485.1 0 0 0 404.1 32a1.8 1.8 0 0 0 -1.9 .9 337.5 337.5 0 0 0 -14.9 30.6 447.8 447.8 0 0 0 -134.4 0 309.5 309.5 0 0 0 -15.1-30.6 1.9 1.9 0 0 0 -1.9-.9A483.7 483.7 0 0 0 116.1 69.1a1.7 1.7 0 0 0 -.8 .7C39.1 183.7 18.2 294.7 28.4 404.4a2 2 0 0 0 .8 1.4A487.7 487.7 0 0 0 176 479.9a1.9 1.9 0 0 0 2.1-.7A348.2 348.2 0 0 0 208.1 430.4a1.9 1.9 0 0 0 -1-2.6 321.2 321.2 0 0 1 -45.9-21.9 1.9 1.9 0 0 1 -.2-3.1c3.1-2.3 6.2-4.7 9.1-7.1a1.8 1.8 0 0 1 1.9-.3c96.2 43.9 200.4 43.9 295.5 0a1.8 1.8 0 0 1 1.9 .2c2.9 2.4 6 4.9 9.1 7.2a1.9 1.9 0 0 1 -.2 3.1 301.4 301.4 0 0 1 -45.9 21.8 1.9 1.9 0 0 0 -1 2.6 391.1 391.1 0 0 0 30 48.8 1.9 1.9 0 0 0 2.1 .7A486 486 0 0 0 610.7 405.7a1.9 1.9 0 0 0 .8-1.4C623.7 277.6 590.9 167.5 524.5 69.8zM222.5 337.6c-29 0-52.8-26.6-52.8-59.2S193.1 219.1 222.5 219.1c29.7 0 53.3 26.8 52.8 59.2C275.3 311 251.9 337.6 222.5 337.6zm195.4 0c-29 0-52.8-26.6-52.8-59.2S388.4 219.1 417.9 219.1c29.7 0 53.3 26.8 52.8 59.2C470.7 311 447.5 337.6 417.9 337.6z"
            ></path>
          </svg>
        </button>
      </a>

      <a href="https://github.com/atlasproxy/atlas" target="_blank">
        <button class="btn btn-ghost btn-square">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 496 512">
            <path
              fill="currentColor"
              d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"
            ></path></svg
          >
        </button>
      </a>
    </div>
  </div>
</Page>

<script>
  import { navigate } from 'astro:transitions/client'

  document.addEventListener('astro:page-load', async () => {
    if (window.location.pathname !== '/') return

    const input = document.querySelector('input')
    const btn: HTMLButtonElement = document.querySelector('#enter')

    input.value = ''

    input.onkeydown = (e) => {
      if (e.key == 'Enter') handleSearch()
    }
    btn.onclick = handleSearch

    function handleSearch() {
      if (!input.value) return

      navigate(`/route`)
    }
  })
</script>
